# –ù–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª–µ–∑–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
# –í —ç—Ç–æ–π –≥–ª–∞–≤–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª–µ–∑–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ —Å–¥–µ–ª–∞—é—Ç –≤–∞—à–µ
# –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ª—É—á—à–µ.
# –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
# –§—É–Ω–∫—Ü–∏—è abort
# –§—É–Ω–∫—Ü–∏—è abort() —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –≤ Flask. –û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç
# –≤—ã–∑–≤–∞—Ç—å –æ—à–∏–±–∫—É –∏ –ø–µ—Ä–µ–¥–∞—Ç—å –µ–π –∫–æ–¥ –æ—à–∏–±–∫–∏ –∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
# –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.
# –ù–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã –≤—ã–∑–≤–∞—Ç—å –æ—à–∏–±–∫—É 404 —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º "–°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞",
# –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é abort():
import logging
from flask import Flask, render_template, request, abort
from lecture_2.db import get_blog

app = Flask(__name__)
logger = logging.getLogger(__name__)


@app.route('/')
def index():
    return '<h1>Hello world!</h1>'


@app.route('/blog/<int:id>')
def get_blog_by_id(id):
    ...
    # –¥–µ–ª–∞–µ–º –∑–∞–ø—Ä–æ—Å –≤ –ë–î –¥–ª—è –ø–æ–∏—Å–∫–∞ —Å—Ç–∞—Ç—å–∏ –ø–æ id
    result = get_blog(id)
    if result is None:
        abort(404)
    ...


# –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–∞–π–¥–µ–Ω–Ω—É—é –≤ –ë–î —Å—Ç–∞—Ç—å—é
@app.errorhandler(404)
def page_not_found(e):
    logger.warning(e)
    context = {
        'title': '–°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞',
        'url': request.base_url,
    }
    return render_template('404.html', **context), 404


if __name__ == '__main__':
    app.run(debug=True)
# –í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é abort() –≤–Ω—É—Ç—Ä–∏ get_blog_by_id –¥–ª—è –≤—ã–∑–æ–≤–∞
# –æ—à–∏–±–∫–∏ 404 –≤ —Å–ª—É—á–∞–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —Å—Ç–∞—Ç—å–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
# üí° –í–Ω–∏–º–∞–Ω–∏–µ! –ß—Ç–æ–±—ã –∫–æ–¥ –≤–Ω—É—Ç—Ä–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ—Ç—Ä–∞–±–æ—Ç–∞–ª –±–µ–∑ –æ—à–∏–±–æ–∫,
# –Ω–∞–ø–∏—Å–∞–Ω–∞ —Å–ª–µ–¥—É—é—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–≥–ª—É—à–∫–∞:
# def get_blog(id):
# return None
